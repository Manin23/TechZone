DROP DATABASE TechZone;

CREATE DATABASE TechZone;

USE TechZone;

SET FOREIGN_KEY_CHECKS = 0;

-- Tablas de dimensión
CREATE TABLE Locations (
  id INT AUTO_INCREMENT PRIMARY KEY,
  city VARCHAR(255) NOT NULL,
  state VARCHAR(255) NOT NULL,
  country VARCHAR(255) NOT NULL
);

CREATE TABLE Categories (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL
);

CREATE TABLE Products (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  price DECIMAL(10, 2) NOT NULL,
  cost DECIMAL(10, 2) NOT NULL,
  category_id INT,
  FOREIGN KEY (category_id) REFERENCES Categories(id)
);

CREATE TABLE Dates (
  id INT AUTO_INCREMENT PRIMARY KEY,
  date DATETIME NOT NULL
);

CREATE TABLE Customers (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL
);

CREATE TABLE Employees (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  role VARCHAR(255) NOT NULL,
  department VARCHAR(255) NOT NULL
);

CREATE TABLE Suppliers (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  country VARCHAR(255) NOT NULL
);
-- TABLAS DE HECHOS
CREATE TABLE Sales (
  id INT AUTO_INCREMENT PRIMARY KEY,
  product_id INT,
  location_id INT,
  date_id INT,
  customer_id INT,
  employee_id INT,
  units_sold INT NOT NULL,
  revenue DECIMAL(10, 2) NOT NULL,
  FOREIGN KEY (product_id) REFERENCES Products(id),
  FOREIGN KEY (location_id) REFERENCES Locations(id),
  FOREIGN KEY (date_id) REFERENCES Dates(id),
  FOREIGN KEY (customer_id) REFERENCES Customers(id),
  FOREIGN KEY (employee_id) REFERENCES Employees(id)
);

CREATE TABLE Inventory (
  id INT AUTO_INCREMENT PRIMARY KEY,
  product_id INT,
  location_id INT,
  date_id INT,
  quantity INT NOT NULL,
  FOREIGN KEY (product_id) REFERENCES Products(id),
  FOREIGN KEY (location_id) REFERENCES Locations(id),
  FOREIGN KEY (date_id) REFERENCES Dates(id)
);

CREATE TABLE Purchases (
  id INT AUTO_INCREMENT PRIMARY KEY,
  product_id INT,
  supplier_id INT,
  date_id INT,
  quantity INT NOT NULL,
  cost DECIMAL(10, 2) NOT NULL,
  FOREIGN KEY (product_id) REFERENCES Products(id),
  FOREIGN KEY (supplier_id) REFERENCES Suppliers(id),
  FOREIGN KEY (date_id) REFERENCES Dates(id)
);

-- Insertar datos de prueba en la tabla Customers
INSERT INTO Customers (id, name, email) VALUES
(1, 'John Doe', 'john.doe@example.com'),
(2, 'Jane Smith', 'jane.smith@example.com'),
(3, 'Maria Rodriguez', 'maria.rodriguez@example.com'),
(4, 'David Gonzalez', 'david.gonzalez@example.com'),
(5, 'Ana Perez', 'ana.perez@example.com'),
(6, 'Daniel Fernandez', 'daniel.fernandez@example.com'),
(7, 'Lucas Ramirez', 'lucas.ramirez@example.com'),
(8, 'Sofia Castillo', 'sofia.castillo@example.com'),
(9, 'Mateo Herrera', 'mateo.herrera@example.com'),
(10, 'Camila Luna', 'camila.luna@example.com'),
(11, 'Emilia Morales', 'emilia.morales@example.com'),
(12, 'Valentina Navarro', 'valentina.navarro@example.com'),
(13, 'Nicolas Aguilar', 'nicolas.aguilar@example.com'),
(14, 'Ariana Peña', 'ariana.peña@example.com'),
(15, 'Emily Rios', 'emily.rios@example.com'),
(16, 'Isabella Medina', 'isabella.medina@example.com'),
(17, 'Santiago Guerrero', 'santiago.guerrero@example.com'),
(18, 'Samuel Paredes', 'samuel.paredes@example.com'),
(19, 'Andrea Vargas', 'andrea.vargas@example.com'),
(20, 'Victoria Romero', 'victoria.romero@example.com'),
(21, 'Diego Rojas', 'diego.rojas@example.com'),
(22, 'Daniela Ortega', 'daniela.ortega@example.com'),
(23, 'Mariana Zapata', 'mariana.zapata@example.com'),
(24, 'Sebastian Osorio', 'sebastian.osorio@example.com'),
(52, 'Michael Brown', 'michael.brown@example.com'),
(53, 'Jessica Taylor', 'jessica.taylor@example.com'),
(100, 'Fernando Pérez', 'fernando.perez@example.com');


-- Insertar datos de prueba en la tabla Products
INSERT INTO Products (id, name, price, cost, category_id) VALUES
(1, 'Laptop ABC', 1200, 800, 1),
(2, 'Smartphone XYZ', 800, 600, 2),
(3, 'Laptop DEF', 1300, 900, 1),
(4, 'Smartphone ABC', 700, 500, 2),
(5, 'Monitor 4K DEF', 700, 450, 4),
(6, 'Smartphone GHI', 900, 700, 2),
(7, 'Tablet JKL', 600, 400, 3),
(8, 'Cámara DSLR RST', 950, 800, 5),
(9, 'Audífonos Bluetooth UVW', 120, 60, 6),
(10, 'Teclado Mecánico XYZ', 100, 60, 6),
(11, 'Laptop GHI', 1100, 800, 1),
(12, 'Smartphone JKL', 750, 500, 2),
(13, 'Tablet MNO', 550, 350, 3),
(14, 'Monitor Curvo PQR', 800, 600, 4),
(15, 'Cámara DSLR STU', 850, 700, 5),
(16, 'Micrófono USB VWX', 150, 70, 6),
(17, 'Smartwatch YZA', 300, 150, 6),
(18, 'Laptop BCD', 1500, 1000, 1),
(19, 'Smartphone EFG', 950, 700, 2),
(20, 'Tablet HIJ', 450, 300, 3),
(21, 'Monitor 8K KLM', 1000, 800, 4),
(22, 'Cámara Mirrorless NOP', 1200, 900, 5),
(23, 'Router Inalámbrico QRS', 80, 50, 6),
(24, 'Disco Duro Externo TUV', 200, 120, 6),
(25, 'Impresora 3D WXY', 400, 300, 6),
(26, 'Televisor 4K ZAB', 900, 600, 7),
(27, 'Sistema de Sonido CDE', 350, 200, 6),
(28, 'Laptop FGH', 1400, 1000, 1),
(29, 'Smartphone IJK', 850, 600, 2),
(30, 'Tablet LMN', 500, 300, 3),
(31, 'Monitor Ultrawide OPQ', 900, 600, 4),
(32, 'Cámara de Acción RST', 300, 200, 5),
(33, 'Teclado y Mouse Inalámbricos UVW', 120, 70, 6),
(34, 'Laptop XYZ', 1600, 1100, 1),
(52, 'Cámara DSLR OPQ', 900, 700, 5),
(53, 'Monitor 4K UVW', 650, 450, 4),
(100, 'Mouse ergonómico RST', 40, 25, 6);



-- Insertar datos de prueba en la tabla Categories
INSERT INTO Categories (id, name) VALUES
(1, 'Laptops'),
(2, 'Smartphones'),
(3, 'Tablets'),
(4, 'Accesorios'),
(5, 'Cámaras'),
(6, 'Audio'),
(7, 'Televisores'),
(8, 'Drones'),
(9, 'Smart Home'),
(10, 'Consolas de Videojuegos'),
(11, 'Dispositivos de Almacenamiento'),
(12, 'Software'),
(13, 'Computadoras de Escritorio'),
(14, 'Proyectores'),
(15, 'Wearables'),
(16, 'Servidores'),
(17, 'Componentes de PC'),
(18, 'Redes y Conectividad'),
(19, 'Impresoras y Escáneres'),
(20, 'Iluminación'),
(21, 'Dispositivos de Seguridad'),
(22, 'Baterías y Cargadores'),
(23, 'Cables y Adaptadores'),
(24, 'Electrónica de Consumo'),
(25, 'GPS y Navegación'),
(26, 'Robótica'),
(27, 'Herramientas y Equipos de Prueba'),
(28, 'Accesorios para Vehículos'),
(29, 'Dispositivos Médicos'),
(30, 'Instrumentos Musicales'),
(50, 'Impresoras');

-- Insertar datos de prueba en la tabla Locations
INSERT INTO Locations (id, city, state, country) VALUES
(1, 'San Francisco', 'California', 'Estados Unidos'),
(2, 'New York', 'New York', 'Estados Unidos'),
(3, 'Toronto', 'Ontario', 'Canadá'),
(4, 'Londres', 'Inglaterra', 'Reino Unido'),
(5, 'Sydney', 'New South Wales', 'Australia'),
(6, 'Tokio', 'Tokio', 'Japón'),
(7, 'Roma', 'Lazio', 'Italia'),
(8, 'Barcelona', 'Cataluña', 'España'),
(9, 'São Paulo', 'São Paulo', 'Brasil'),
(10, 'Moscú', 'Moscú', 'Rusia'),
(11, 'Mumbai', 'Maharashtra', 'India'),
(12, 'Shanghai', 'Shanghai', 'China'),
(13, 'Seúl', 'Seúl', 'Corea del Sur'),
(14, 'Johannesburgo', 'Gauteng', 'Sudáfrica'),
(15, 'Buenos Aires', 'Buenos Aires', 'Argentina'),
(16, 'Bogotá', 'Bogotá', 'Colombia'),
(17, 'Santiago', 'Santiago', 'Chile'),
(18, 'Lima', 'Lima', 'Perú'),
(19, 'Lagos', 'Lagos', 'Nigeria'),
(20, 'El Cairo', 'El Cairo', 'Egipto'),
(21, 'Estambul', 'Estambul', 'Turquía'),
(22, 'Yakarta', 'Yakarta', 'Indonesia'),
(23, 'Kuala Lumpur', 'Kuala Lumpur', 'Malasia'),
(24, 'Manila', 'Manila', 'Filipinas'),
(25, 'Ciudad Ho Chi Minh', 'Ciudad Ho Chi Minh', 'Vietnam'),
(26, 'Bangkok', 'Bangkok', 'Tailandia'),
(27, 'Singapur', 'Singapur', 'Singapur'),
(28, 'Auckland', 'Auckland', 'Nueva Zelanda'),
(29, 'Taipéi', 'Taipéi', 'Taiwán'),
(30, 'Hong Kong', 'Hong Kong', 'Hong Kong'),
(31, 'Bruselas', 'Bruselas', 'Bélgica'),
(32, 'Copenhague', 'Copenhague', 'Dinamarca'),
(33, 'Helsinki', 'Helsinki', 'Finlandia'),
(34, 'Oslo', 'Oslo', 'Noruega'),
(35, 'Lisboa', 'Lisboa', 'Portugal'),
(36, 'Zúrich', 'Zúrich', 'Suiza'),
(37, 'Atenas', 'Atenas', 'Grecia'),
(38, 'Ciudad de México', 'Ciudad de México', 'México'),
(39, 'Guadalajara', 'Jalisco', 'México'),
(50, 'París', 'Île-de-France', 'Francia');


-- Insertar datos de prueba en la tabla Dates
INSERT INTO Dates (id, date) VALUES
(1, '2023-01-01 10:37:42'),
(2, '2023-01-02 18:52:11'),
(3, '2023-01-03 20:21:15'),
(4, '2023-01-04 14:48:56'),
(51, '2023-02-20 12:09:33'),
(52, '2023-02-21 11:14:28'),
(53, '2023-02-22 17:33:09'),
(54, '2023-02-23 21:16:49'),
(55, '2023-02-24 20:02:21'),
(56, '2023-02-25 15:50:17'),
(57, '2023-02-26 12:30:27'),
(58, '2023-02-27 13:59:05'),
(59, '2023-02-28 16:20:49'),
(60, '2023-03-01 20:50:34'),
(61, '2023-03-02 10:13:18'),
(62, '2023-03-03 14:37:27'),
(63, '2023-03-04 11:27:41'),
(64, '2023-03-05 17:46:58'),
(65, '2023-03-06 19:18:02'),
(66, '2023-03-07 21:49:21'),
(67, '2023-03-08 16:44:07'),
(68, '2023-03-09 20:30:12'),
(69, '2023-03-10 11:52:53'),
(70, '2023-03-11 13:01:17'),
(71, '2023-03-12 15:08:59'),
(72, '2023-03-13 10:04:38');

INSERT INTO Dates (id,date) VALUES
(100, '2023-04-30 19:56:44');


-- Insertar datos de prueba en la tabla Sales
INSERT INTO Sales (id, customer_id, product_id, date_id, location_id, employee_id, units_sold, revenue) VALUES
(1, 1, 1, 1, 1, 1, 1, 1200),
(2, 2, 2, 2, 2, 2, 2, 1600),
(3, 3, 3, 3, 3, 3, 1, 1300),
(4, 4, 4, 4, 4, 4, 1, 700),
(52, 52, 52, 52, 27, 12, 1, 900),
(53, 53, 53, 53, 28, 13, 2, 1300),
(54, 12, 16, 65, 38, 28, 3, 4392), 
(55, 14, 4, 66, 27, 17, 4, 3683), 
(56, 12, 9, 66, 33, 22, 1, 3930), 
(57, 16, 19, 58, 33, 30, 4, 2273), 
(58, 8, 8, 67, 15, 33, 5, 3256), 
(59, 13, 5, 53, 39, 15, 3, 3216), 
(60, 2, 16, 60, 5, 30, 1, 1295), 
(61, 3, 29, 52, 1, 33, 5, 3266), 
(62, 4, 4, 70, 23, 12, 1, 703), 
(63, 7, 10, 64, 10, 26, 2, 3277), 
(64, 1, 19, 63, 30, 26, 5, 4455), 
(65, 16, 3, 66, 7, 32, 1, 3796), 
(66, 19, 1, 53, 8, 15, 3, 1152), 
(67, 17, 27, 71, 28, 24, 1, 2490), 
(68, 7, 2, 65, 20, 15, 3, 2741), 
(69, 19, 15, 63, 17, 30, 1, 2866), 
(70, 13, 19, 54, 37, 19, 1, 1843), 
(71, 13, 16, 52, 36, 28, 3, 729), 
(72, 20, 25, 70, 7, 15, 5, 3267), 
(73, 22, 10, 69, 39, 19, 4, 1698);



-- Insertar datos de prueba en la tabla Inventory
INSERT INTO Inventory (id, product_id, location_id, date_id, quantity) VALUES
(1, 1, 1, 1, 10),
(2, 2, 2, 2, 15),
(3, 3, 3, 3, 8),
(4, 4, 4, 4, 12),
(52, 52, 27, 52, 12),
(53, 53, 28, 53, 15),
(54, 1, 29, 54, 25),
(55, 52, 30, 55, 18),
(56, 31, 31, 56, 30),
(57, 32, 32, 57, 22),
(58, 33, 33, 58, 35),
(59, 15, 34, 59, 15),
(60, 28, 35, 60, 28),
(61, 34, 36, 61, 40),
(62, 12, 37, 62, 12),
(63, 20, 38, 63, 20),
(64, 32, 39, 64, 32),
(65, 52, 38, 65, 45),
(66, 25, 50, 66, 25),
(67, 53, 5, 67, 55),
(68, 10, 22, 68, 10),
(69, 34, 29, 69, 38),
(70, 52, 27, 70, 50),
(71, 12, 11, 71, 12),
(72, 24, 3, 72, 24);

-- Insertar datos de prueba en la tabla Purchases
INSERT INTO Purchases (product_id, supplier_id, date_id, quantity, cost) VALUES
(1, 1, 1, 10, 800),
(2, 2, 2, 15, 700),
(3, 3, 3, 20, 900),
(4, 4, 4, 25, 600),
(1, 1, 51, 50, 800),
(2, 2, 52, 55, 700),
(3, 3, 53, 60, 900),
(4, 4, 54, 65, 600),
(1, 1, 55, 70, 800),
(2, 2, 56, 75, 700),
(3, 3, 57, 80, 900),
(4, 4, 58, 85, 600),
(1, 1, 59, 90, 800),
(2, 2, 60, 95, 700),
(3, 3, 61, 100, 900),
(4, 4, 62, 105, 600),
(1, 1, 63, 110, 800),
(2, 2, 64, 115, 700),
(3, 3, 65, 120, 900),
(4, 4, 66, 125, 600),
(1, 1, 67, 130, 800),
(2, 2, 68, 135, 700),
(3, 3, 69, 140, 900),
(4, 4, 70, 145, 600),
(1, 1, 71, 150, 800),
(2, 2, 72, 155, 700);

-- Insertar datos de prueba en la tabla Employees
INSERT INTO Employees (id, name, role, department) VALUES
(1, 'Alice Johnson', 'Salesperson', 'Sales'),
(2, 'Bob Thompson', 'Salesperson', 'Sales'),
(3, 'Miguel Ángel García', 'Salesperson', 'Sales'),
(4, 'Lucía Ramírez', 'Salesperson', 'Sales'),
(12, 'Sophia Moore', 'Salesperson', 'Sales'),
(13, 'Mia Jackson', 'Salesperson', 'Sales'),
(14, 'Ethan White', 'Salesperson', 'Sales'),
(15, 'Olivia Martin', 'Salesperson', 'Sales'),
(16, 'Ava Clark', 'Salesperson', 'Sales'),
(17, 'Isabella Lewis', 'Salesperson', 'Sales'),
(18, 'Sophia Young', 'Salesperson', 'Sales'),
(19, 'Mia Hall', 'Salesperson', 'Sales'),
(20, 'Charlotte Allen', 'Salesperson', 'Sales'),
(21, 'Amelia Rivera', 'Salesperson', 'Sales'),
(22, 'Harper Scott', 'Salesperson', 'Sales'),
(23, 'Ella Wright', 'Salesperson', 'Sales'),
(24, 'Gianna Lopez', 'Salesperson', 'Sales'),
(25, 'Aria Torres', 'Salesperson', 'Sales'),
(26, 'Camila Green', 'Salesperson', 'Sales'),
(27, 'Ariana Adams', 'Salesperson', 'Sales'),
(28, 'Penelope Baker', 'Salesperson', 'Sales'),
(29, 'Riley Nelson', 'Salesperson', 'Sales'),
(30, 'Layla Carter', 'Salesperson', 'Sales'),
(31, 'Lillian Mitchell', 'Salesperson', 'Sales'),
(32, 'Zoe Robinson', 'Salesperson', 'Sales'),
(33, 'Hannah Perry', 'Salesperson', 'Sales'),
(50, 'Victoria Lee', 'Salesperson', 'Sales');


-- Insertar datos de prueba en la tabla Suppliers
INSERT INTO Suppliers (id, name, country) VALUES
(1, 'TechSupplier1', 'Estados Unidos'),
(2, 'TechSupplier2', 'Estados Unidos'),
(3, 'TechSupplier3', 'Canadá'),
(4, 'TechSupplier4', 'Reino Unido'),
(17, 'TechSupplier17', 'Italia'),
(18, 'TechSupplier18', 'Países Bajos'),
(19, 'TechSupplier19', 'Australia'),
(20, 'TechSupplier20', 'Austria'),
(21, 'TechSupplier21', 'Bélgica'),
(22, 'TechSupplier22', 'Brasil'),
(23, 'TechSupplier23', 'Chile'),
(24, 'TechSupplier24', 'China'),
(25, 'TechSupplier25', 'Colombia'),
(26, 'TechSupplier26', 'Corea del Sur'),
(27, 'TechSupplier27', 'Dinamarca'),
(28, 'TechSupplier28', 'Estonia'),
(29, 'TechSupplier29', 'Finlandia'),
(30, 'TechSupplier30', 'Francia'),
(31, 'TechSupplier31', 'Alemania'),
(32, 'TechSupplier32', 'Grecia'),
(33, 'TechSupplier33', 'Hungría'),
(34, 'TechSupplier34', 'India'),
(35, 'TechSupplier35', 'Indonesia'),
(36, 'TechSupplier36', 'Irlanda'),
(37, 'TechSupplier37', 'Israel'),
(38, 'TechSupplier38', 'Italia'),
(39, 'TechSupplier39', 'Japón'),
(40, 'TechSupplier40', 'Letonia'),
(41, 'TechSupplier41', 'Lituania'),
(42, 'TechSupplier42', 'Luxemburgo'),
(43, 'TechSupplier43', 'Malasia'),
(44, 'TechSupplier44', 'Malta'),
(45, 'TechSupplier45', 'México'),
(46, 'TechSupplier46', 'Países Bajos'),
(47, 'TechSupplier47', 'Nueva Zelanda'),
(48, 'TechSupplier48', 'Noruega'),
(49, 'TechSupplier49', 'Filipinas'),
(50, 'TechSupplier50', 'Polonia'),
(51, 'TechSupplier51', 'Portugal'),
(52, 'TechSupplier52', 'Rumania'),
(53, 'TechSupplier53', 'Rusia'),
(54, 'TechSupplier54', 'Serbia'),
(55, 'TechSupplier55', 'Singapur'),
(56, 'TechSupplier56', 'Eslovaquia'),
(57, 'TechSupplier57', 'Eslovenia'),
(58, 'TechSupplier58', 'Sudáfrica'),
(59, 'TechSupplier59', 'España'),
(60, 'TechSupplier60', 'Suecia'),
(61, 'TechSupplier61', 'Suiza'),
(62, 'TechSupplier62', 'Tailandia'),
(63, 'TechSupplier63', 'Turquía'),